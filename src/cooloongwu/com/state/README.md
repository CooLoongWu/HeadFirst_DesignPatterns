# 状态模式

## 定义
状态模式允许对象在内部状态改变时改变他的行为，对象看起来好像修改了他的类。

## 要点
1. 状态模式允许一个对象基于内部状态而拥有不同的行为
2. 和程序状态机不同，状态模式用类代表状态
3. Context会将行为委托给当前状态对象
4. 通过将每个状态封装进一个类，我们把以后需要做的任何改变都局部化了
5. 状态模式和策略模式有相同的类图，但是他们的意图不同。
6. 策略模式通常会用行为或者算法来配置Context类
7. 状态模式允许Context随着状态的改变而改变
8. 状态装换可以由State类或者Context类来控制
9. 使用状态模式通常会导致设计中类的数目大量增加
10. 状态类可以被多个Context示例共享

## 关于糖果机代码的思考
1. 定义一个State接口。在这个接口内，糖果机的每个动作都有一个对应的方法
2. 然后为机器中的每个状态实现状态类。这些类将负责在对应的状态下进行机器的行为
3. 最后我们要摆脱就的条件代码，取而代之的方式是，将动作委托到状态类